points(1:length(x),y,col="red", type="l")
points(1:length(x),y,col="blue", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,1]<=x[i], arr.ind=T)
y[i] = sum(data[ind,1])/sum(data[,1])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,1]<=x[i], arr.ind=T)
y[i] = sum(data[ind,1])/sum(data[,1])
}
points(1:length(x),y,col="red", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="red", type="l")
num=3
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="blue", type="l")
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num], na.rm=T)/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num], na.rm=T)/sum(data[,num],na.rm=T)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num], na.rm=T)/length(ind)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/length(ind)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
y
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/nrow(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/nrow(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/length(x)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/x[i]
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/length(ind)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
x[100]
x[9]
y[9]
sum(data[,num])
x[9]
i=9
ind = which(data[,num]<x[i], arr.ind=T)
ind
length(ind)
length(ind)/sum(data[,num])
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
sum(data)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
sum(data)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="red", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=3
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="blue", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])/sum(data[,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=3
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
plot(1:length(x),y, xaxt="n", type="l", ylim(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
plot(1:length(x),y, xaxt="n", type="l", ylim=c(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
num=2
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
num=3
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
plot(1:length(x),y, xaxt="n", type="l", ylim=c(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
y
y=y/sum(data)
plot(1:length(x),y, xaxt="n", type="l", ylim=c(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
files = list.files("/home/ctolson/Desktop/RMDB_SHP/")
files
library("randomForest", lib.loc="/Applications/R_packages")
install.packages("BayesR")
install.packages("classifyChange", lib="~/Desktop")
install.packages("classifyChange", lib="~/Desktop")
install.packages("classifyChange", lib="~/Desktop")
read.table("~/Desktop/example.txt", header=T, row.names=1, sep="\t")
data = read.table("~/Desktop/example.txt", header=T, row.names=1, sep="\t")
save(data, file="~/Desktop/example.Rdata")
install.packages("classSNitch", repos = "http://R-Forge.R-project.org")
install.packages("classSNitch", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("classSNitch", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages",type="source")
install.packages("chanin", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("chanin", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("chanin", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("classSNitch", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("classSNitch", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("classSNitch", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
install.packages("randomForest", repos = "http://R-Forge.R-project.org", lib="/Applications/R_packages")
files = list.files("~/Desktop/lab/classify/RMDB_SHP/")
varna_start=c(0,0,19,19,19,0,0,7,0,9,9,9,9,0,0,0,0,0,15,13,13,13,6,6)
#install package
setwd("~/Desktop")
library("devtools")
#devtools::install_github("klutometis/roxygen")
library(roxygen2)
#create("classSNitch")
setwd("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
document()
devtools::use_package("randomForest")
devtools::use_package("dtw")
devtools::use_package("changepoint")
devtools::use_package("gplots")
devtools::use_package("ROCR")
load("~/Desktop/magpat_ex.rda")
load("~/Desktop/shape_ex.rda")
load("~/Desktop/mutmap.rda")
classify_default=mutmap
devtools::use_data(magpat_ex, overwrite=T)
devtools::use_data(shape_ex, overwrite=T)
devtools::use_data(mutmap, overwrite=T)
devtools::use_data(classify_default, internal=T, overwrite=T)
install("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
master_sample = NULL
x=1
sample = read.table(files[x])
sample = read.table(files[x])
setwd("~/Desktop/lab/classify/RMDB_SHP/")
sample = read.table(files[x])
start = varna_start[x]
#normalize
samp_norm = normalize(sample[,3:ncol(sample)])
#subtract from wild-type
samp_sub = samp_norm
for(i in 1:nrow(samp_sub)){
samp_sub[i,] = abs(samp_norm[1,]-samp_norm[i,])
}
samp_align = cbind(samp_sub,samp_sub[,2:ncol(samp_sub)])
sample[,2]
#align sample to mutant
samp_align = cbind(samp_sub,samp_sub[,2:ncol(samp_sub)])
for(i in 2:nrow(samp_sub)){
mut = sample[,2]-sample[2,2]+start
samp_align[i,] = c(rep(NA,(ncol(samp_sub)-mut)), samp_sub[i,], rep(NA,mut-1))
}
i=111
mut = sample[,2]-sample[2,2]+start
mut
varna_start=c(0,0,19,19,19,0,0,7,0,9,9,9,9,0,0,0,0,0,15,13,13,13,6,6)+1
start = varna_start[x]
#align sample to mutant
samp_align = cbind(samp_sub,samp_sub[,2:ncol(samp_sub)])
for(i in 2:nrow(samp_sub)){
mut = sample[,2]-sample[2,2]+start
samp_align[i,] = c(rep(NA,(ncol(samp_sub)-mut)), samp_sub[i,], rep(NA,mut-1))
}
samp_align = samp_align[2:nrow(samp_align),]
samp_align = cbind(samp_sub,samp_sub[,2:ncol(samp_sub)])
mut = sample[,2]-sample[2,2]+start
mut
i=110
#align sample to mutant
samp_align = cbind(samp_sub,samp_sub[,2:ncol(samp_sub)])
for(i in 2:nrow(samp_sub)){
mut = sample[i,2]-sample[2,2]+start
samp_align[i,] = c(rep(NA,(ncol(samp_sub)-mut)), samp_sub[i,], rep(NA,mut-1))
}
samp_align = samp_align[2:nrow(samp_align),]
files = list.files("~/Desktop/lab/classify/RMDB_SHP/")
varna_start=c(0,0,19,19,19,0,0,7,0,9,9,9,9,0,0,0,0,0,15,13,13,13,6,6)+1
master_sample = NULL
for(x in 1:length(files)){
#read in files
sample = read.table(files[x])
start = varna_start[x]
#normalize
samp_norm = normalize(sample[,3:ncol(sample)])
#subtract from wild-type
samp_sub = samp_norm
for(i in 1:nrow(samp_sub)){
samp_sub[i,] = abs(samp_norm[1,]-samp_norm[i,])
}
#align sample to mutant
samp_align = cbind(samp_sub,samp_sub[,2:ncol(samp_sub)])
for(i in 2:nrow(samp_sub)){
mut = sample[i,2]-sample[2,2]+start
samp_align[i,] = c(rep(NA,(ncol(samp_sub)-mut)), samp_sub[i,], rep(NA,mut-1))
}
samp_align = samp_align[2:nrow(samp_align),]
#create master sample
if(is.null(master_sample)){
master_sample = samp_align
} else if(ncol(samp_align) == ncol(master_sample)){
master_sample = rbind(master_sample, samp_align)
} else if(ncol(samp_align)>ncol(master_sample)){
diff = (ncol(samp_align)-ncol(master_sample))/2
master_sample = cbind(cbind(matrix(NA, ncol=diff, nrow=nrow(master_sample)), master_sample), matrix(NA, ncol=diff, nrow=nrow(master_sample)))
master_sample = rbind(master_sample,samp_align)
} else if(ncol(samp_align)<ncol(master_sample)){
diff = (ncol(master_sample)-ncol(samp_align))/2
samp_align = cbind(cbind(matrix(NA, ncol=diff, nrow=nrow(samp_align)), samp_align), matrix(NA, ncol=diff, nrow=nrow(samp_align)))
master_sample = rbind(master_sample,samp_align)
}
}
library("classSNitch")
library("classSNitch")
#install package
setwd("~/Desktop")
library("devtools")
#devtools::install_github("klutometis/roxygen")
library(roxygen2)
#create("classSNitch")
setwd("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
document()
devtools::use_package("randomForest")
devtools::use_package("dtw")
devtools::use_package("changepoint")
devtools::use_package("gplots")
devtools::use_package("ROCR")
load("~/Desktop/magpat_ex.rda")
load("~/Desktop/shape_ex.rda")
load("~/Desktop/mutmap.rda")
classify_default=mutmap
devtools::use_data(magpat_ex, overwrite=T)
devtools::use_data(shape_ex, overwrite=T)
devtools::use_data(mutmap, overwrite=T)
devtools::use_data(classify_default, internal=T, overwrite=T)
install("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
library("classSNitch")
#install package
setwd("~/Desktop")
library("devtools")
#devtools::install_github("klutometis/roxygen")
library(roxygen2)
#create("classSNitch")
setwd("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
document()
devtools::use_package("randomForest")
devtools::use_package("dtw")
devtools::use_package("changepoint")
devtools::use_package("gplots")
devtools::use_package("ROCR")
load("~/Desktop/magpat_ex.rda")
load("~/Desktop/shape_ex.rda")
load("~/Desktop/mutmap.rda")
classify_default=mutmap
devtools::use_data(magpat_ex, overwrite=T)
devtools::use_data(shape_ex, overwrite=T)
devtools::use_data(mutmap, overwrite=T)
devtools::use_data(classify_default, internal=T, overwrite=T)
install("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
install.packages("classSNitch", repos="http://R-Forge.R-project.org")
install.packages("classSNitch", repos="http://R-Forge.R-project.org", type="source")
library("classSNitch")
help(package="classSNitch")
devtools::check()
setwd("~/Documents/SVN_dir/classsnitch/pkg/classSNitch")
