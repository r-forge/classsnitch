x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
points(1:length(x),y,col="red", type="l")
points(1:length(x),y,col="blue", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,1]<=x[i], arr.ind=T)
y[i] = sum(data[ind,1])/sum(data[,1])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,1]<=x[i], arr.ind=T)
y[i] = sum(data[ind,1])/sum(data[,1])
}
points(1:length(x),y,col="red", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="red", type="l")
num=3
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="blue", type="l")
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num], na.rm=T)/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num], na.rm=T)/sum(data[,num],na.rm=T)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num], na.rm=T)/length(ind)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/length(ind)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
y
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<=x[i], arr.ind=T)
y[i] = sum(data[ind,num])/nrow(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/nrow(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/length(x)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/x[i]
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/length(ind)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
x[100]
x[9]
y[9]
sum(data[,num])
x[9]
i=9
ind = which(data[,num]<x[i], arr.ind=T)
ind
length(ind)
length(ind)/sum(data[,num])
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
sum(data)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
sum(data)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data)
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="red", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=3
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
points(1:length(x),y,col="blue", type="l")
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = sum(data[ind,num])/sum(data[,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])/sum(data[,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=3
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])/sum(data[,num])
}
plot(1:length(x),y, xaxt="n", type="l", xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
plot(1:length(x),y, xaxt="n", type="l", ylim(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
plot(1:length(x),y, xaxt="n", type="l", ylim=c(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=2
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
data = read.table("~/Desktop/cov.txt", sep="\t", header=T)
num=1
x = c(0,2.5,5,7.5,10,25,50,75,100,250,500,750,1000,2500,5000,10000,25000,50000,75000,100000)
y=c(0,0,0,0,0,0,0,0,0)
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
num=2
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
num=3
for(i in 1:length(x)){
ind = which(data[,num]<x[i], arr.ind=T)
y[i] = y[i] + sum(data[ind,num])
}
plot(1:length(x),y, xaxt="n", type="l", ylim=c(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
y
y=y/sum(data)
plot(1:length(x),y, xaxt="n", type="l", ylim=c(0,1), xlab="number of reads per sgRNA", ylab="cumulative percentage of library")
axis(1, at=1:length(x), labels=x)
legend(x="right", bty="n", legend=c("F2", "F2K", "F2KO"),col=c("black", "red", "blue"), lwd=1)
files = list.files("/home/ctolson/Desktop/RMDB_SHP/")
files
library("randomForest", lib.loc="/Applications/R_packages")
install.packages("BayesR")
install.packages("classifyChange", lib="~/Desktop")
install.packages("classifyChange", lib="~/Desktop")
install.packages("classifyChange", lib="~/Desktop")
setwd("~/Desktop")
library("devtools")
devtools::install_github("klutometis/roxygen")
library(roxygen2)
setwd("~/Desktop/classifyChange")
document()
document()
document()
setwd("~/Desktop")
library("devtools")
setwd("~/Desktop/classifyChange")
document()
setwd("~/Desktop")
library("devtools")
devtools::install_github("klutometis/roxygen")
library(roxygen2)
setwd("~/Desktop/classifyChange")
document()
devtools::use_package("randomForest")
install("~/Desktop/classifyChange")
setwd("~/Desktop")
setwd("~/Desktop/classifyChange")
create("classifyChange")
setwd("~/Desktop/classifyChange")
document()
devtools::use_package("randomForest")
setwd("..")
install("~/Desktop/classifyChange")
document()
setwd("~/Desktop/classifyChange")
document()
devtools::use_package("randomForest")
setwd("..")
install("~/Desktop/classifyChange")
#install package
setwd("~/Desktop")
library("devtools")
devtools::install_github("klutometis/roxygen")
library(roxygen2)
#create("structChangeRNA")
#setwd("~/Desktop/structChangeRNA")
#document()
#devtools::use_package("randomForest")
install("~/Desktop/structChangeRNA")
library("gplots", lib.loc="/Applications/R_packages")
library("ROCR", lib.loc="/Applications/R_packages")
setwd("~/Desktop/lab/classify/RMDB_SHP/")
#get change parameters
write.table(matrix(c("", "magnitude change", "pattern change"), nrow=1), "~/Desktop/example.txt", sep="\t", quote=F, row.names=F, col.names=F)
files = list.files("~/Desktop/lab/classify/RMDB_SHP/")
for(x in files){
sample = read.table(x)
samp = as.matrix(sample[,3:ncol(sample)])
rownames(samp) = paste(substr(x, 1, nchar(x)-4), sample[,1], sep="_")
temp = getChangeParams(samp[2:nrow(samp),], base=samp[1,], trim=5, outfile="~/Desktop/example.txt", append=T)
}
install("~/Desktop/structChangeRNA")
#initialize variables
library("gplots", lib.loc="/Applications/R_packages")
library("ROCR", lib.loc="/Applications/R_packages")
setwd("~/Desktop/lab/classify/RMDB_SHP/")
#get change parameters
write.table(matrix(c("", "magnitude change", "pattern change"), nrow=1), "~/Desktop/example.txt", sep="\t", quote=F, row.names=F, col.names=F)
files = list.files("~/Desktop/lab/classify/RMDB_SHP/")
for(x in files){
sample = read.table(x)
samp = as.matrix(sample[,3:ncol(sample)])
rownames(samp) = paste(substr(x, 1, nchar(x)-4), sample[,1], sep="_")
temp = getChangeParams(samp[2:nrow(samp),], base=samp[1,], trim=5, outfile="~/Desktop/example.txt", append=T)
}
setwd("~/Desktop")
create("classSNitch")
setwd("~/Desktop/classSNitch")
document()
devtools::use_package("randomForest")
document()
devtools::use_package("randomForest")
install("~/Desktop/structChangeRNA")
install("~/Desktop/classSNitch")
#initialize variables
library("gplots", lib.loc="/Applications/R_packages")
library("ROCR", lib.loc="/Applications/R_packages")
setwd("~/Desktop/lab/classify/RMDB_SHP/")
#get change parameters
write.table(matrix(c("", "magnitude change", "pattern change"), nrow=1), "~/Desktop/example.txt", sep="\t", quote=F, row.names=F, col.names=F)
files = list.files("~/Desktop/lab/classify/RMDB_SHP/")
for(x in files){
sample = read.table(x)
samp = as.matrix(sample[,3:ncol(sample)])
rownames(samp) = paste(substr(x, 1, nchar(x)-4), sample[,1], sep="_")
temp = getChangeParams(samp[2:nrow(samp),], base=samp[1,], trim=5, outfile="~/Desktop/example.txt", append=T)
}
#predict change
sample_class = getExampleData("magpat_ex")
sample = read.table("~/Desktop/example.txt", header=T, row.names=1, sep="\t")
cr = classifyRNA(sample_class, classes=2)
cr_pred = predict(cr, sample, type="response")
#roc curves
col=2
rf = classifyRNA(classes=col)
data = getExampleData("mutmap")
data = data[-which(is.na(data[,col]),arr.ind=T),]
predobj = prediction(rf$votes[,2], data[,col])
perfobj = performance(predobj, 'tpr', 'fpr')
aucobj = performance(predobj, 'auc')
plot(perfobj@x.values[[1]], perfobj@y.values[[1]], lwd=2 ,type="l", xaxt="n", yaxt="n", xlab="", ylab="")
axis(side=2, tck=-0.05, at=c(0.2,0.6,1), labels=c("","",""))
axis(side=1, tck=-0.05, at=c(0.2,0.6,1), labels=c("","",""))
points(c(-1,2),c(-1,2), col="red", type="l")
text(0.8, 0.2, paste("AUC: ", format(aucobj@y.values, digits=2), sep=""), cex=1)
#get data
data = getExampleData("mutmap")
output = read.table("~/Desktop/lab/classify/delta.txt")
output = output[-which(is.na(data[,col]),arr.ind=T),]
data = data[-which(is.na(data[,col]),arr.ind=T),]
predobj = prediction(output, data[,col])
perfobj = performance(predobj, 'tpr', 'fpr')
aucobj = performance(predobj, 'auc')
par(new=F)
points(perfobj@x.values[[1]],perfobj@y.values[[1]], col="blue", type="l", lwd=2)
text(0.8, 0.15, paste("AUC: ",  format(aucobj@y.values, digits=2), sep=""), col="blue",cex=1)
#get data
data = getExampleData("mutmap")
output = read.table("~/Desktop/lab/classify/eSDC.txt")
output = output[-which(is.na(data[,col]),arr.ind=T),]
data = data[-which(is.na(data[,col]),arr.ind=T),]
predobj = prediction(output, data[,col])
perfobj = performance(predobj, 'tpr', 'fpr')
aucobj = performance(predobj, 'auc')
points(perfobj@x.values[[1]],perfobj@y.values[[1]], col="dark green", type="l", lwd=2)
text(0.8, 0.1, paste("AUC: ", format(aucobj@y.values, digits=2), sep=""), col="dark green", cex=1)
#get data manual person 1
data = getExampleData("mutmap")
output = read.table("~/Desktop/lab/classify/all_manual.txt")
output = output[-which(is.na(data[,col]),arr.ind=T),]
data = data[-which(is.na(data[,col]),arr.ind=T),]
output = cbind(rowSums((output==1)+0)/ncol(output), output[,3]==1)
predobj = prediction(as.vector(output[,1]), output[,2])
perfobj = performance(predobj, 'tpr', 'fpr')
aucobj = performance(predobj, 'auc')
points(perfobj@x.values[[1]],perfobj@y.values[[1]], col="purple", type="l", lwd=2)
text(0.8, 0.05, paste("AUC: ", format(aucobj@y.values, digits=2), sep=""), col="purple", cex=1)
setwd("~/Desktop")
library("devtools")
devtools::install_github("klutometis/roxygen")
library(roxygen2)
install("~/Desktop/classSNitch")
library("gplots", lib.loc="/Applications/R_packages")
library("ROCR", lib.loc="/Applications/R_packages")
setwd("~/Desktop/lab/classify/RMDB_SHP/")
#get change parameters
write.table(matrix(c("", "magnitude change", "pattern change"), nrow=1), "~/Desktop/example.txt", sep="\t", quote=F, row.names=F, col.names=F)
files = list.files("~/Desktop/lab/classify/RMDB_SHP/")
sample_class = getExampleData("magpat_ex")
setwd("~/Desktop/classSNitch")
install("~/Desktop/classSNitch")
sample_class = getExampleData("magpat_ex")
setwd("~/Desktop/classSNitch")
document()
devtools::use_package("randomForest")
install("~/Desktop/classSNitch")
sample_class = getExampleData("magpat_ex")
